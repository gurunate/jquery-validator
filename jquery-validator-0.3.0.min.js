/**
 * jquery-validator - A jQuery form validation plugin.
 * 
 * @version 0.3.0
 * @author Nate Johnson
 * @license MIT
 */

!function($){"use strict";var _this,rules={phone:{msg:"Phone number is invalid.",rule:"^(([0-9]{1})*[- .(]*([0-9]{3})[- .)]*[0-9]{3}[- .]*[0-9]{4})+$"},email:{msg:"Email address is invalid.",rule:"^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,4}$"},url:{msg:"URL is invalid.",rule:"(http|ftp|https)://[w-]+(.[w-]+)+([w.,@?^=%&amp;:/~+#-]*[w@?^=%&amp;/~+#-])?"},zip:{msg:"Zip code is invalid.",rule:"^[0-9]{5}(?:-[0-9]{4})?$"},password:{msg:"Password is invalid.",rule:"(?=^.{6,}$)((?=.*[A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z]))^.*"},digits:{msg:"Digits are invalid.",rule:"^[0-9]+$"},ssn:{msg:"Social Security Number is invalid.",rule:"/^([0-9]{3}[-]*[0-9]{2}[-]*[0-9]{4})*$/"},nohtml:{msg:"Text is invalid. Contains HTML.",rule:"/(<([^>]+)>)/"}};$.fn.extend({validator:function(options){if(_this=this,_this.hasValidated=_this.hasValidated||!1,"object"==typeof options||"undefined"==typeof options){var defaults={mode:"prod",submit:!0,before:null,after:null,success:null,error:null,novalidate:!0,rules:null};return _this.options=$.extend(defaults,options),$(this).data("validator",this.options),"dev"===this.options.mode&&console.warn("Dev mode is ON."),this.options.novalidate===!0&&"FORM"===this[0].tagName&&$(this).attr("novalidate",!0),this.each(function(){_this.options.novalidate&&$(this).attr("novalidate","novalidate"),$(this).on("submit",function(ev){_this.options.submit||ev.preventDefault(),_this.validate($(this))})})}switch(options){case"validate":return _this.validate(this);case"errors":return _this.getErrors(this)}},isValid:function(){return"undefined"==typeof this.errors&&this.validate($(this)),_this.errors.length<=0},getErrors:function(){return _this.hasValidated||("dev"===_this.options.mode&&console.warn("Errors method referenced before any validation.  Validation invoked for accuracy."),_this.validate(this)),_this.errors},validate:function(element){return _this.hasValidated=!0,_this.errors=[],_this.warnings=[],_this.options=_this.options||element.data("validator"),"undefined"!=typeof _this.options&&"undefined"!=typeof _this.options.before&&"function"==typeof _this.options.before&&_this.options.before.call(_this),_this.options||_this.warnings.push("No validator options."),element.find("[data-validator]").each(function(i,el){var directives=$(el).attr("data-validator").split(" ");el.isRequired=!1,$.inArray("required",directives)>=0&&(el.isRequired=!0,isValidValue(el)||_this.errors.push({msg:"Required field",el:el})),$.each(directives,function(i,r){if("required"!==r){var textRange=/text\[([0-9]+),([0-9]+)\]/;if(textRange.test(r)){var m=textRange.exec(r),val=$(el).val();(val.length<m[1]||val.length>m[2])&&_this.errors.push({msg:"".concat("Invalid text range: ",val.length<m[1]?"too short [min. "+m[1]+"].":"too long. [max. "+m[2]+"]"),el:el})}else(el.isRequired&&!isValidType(r,el)||isValidValue(el)&&!isValidType(r,el))&&_this.errors.push({msg:"undefined"!=typeof _this.options&&"undefined"!=typeof _this.options.rules?_this.options.rules[r]||rules[r].msg:rules[r].msg,el:el})}})}),"undefined"!=typeof _this.options&&(_this.errors.length&&"undefined"!=typeof _this.options.error&&"function"==typeof _this.options.error?_this.options.error.call(_this,_this.errors):"undefined"!=typeof _this.options.success&&"function"==typeof _this.options.success&&_this.options.success.call(_this)),this}});var isValidValue=function(el){var retval=!0;if("checkbox"===$(el).attr("type")||"radio"===$(el).attr("type")){var hasChecked=!1;$(_this).find("[name="+$(el).attr("name")+"]").each(function(i,el){!hasChecked&&$(el).is(":checked")&&(hasChecked=!0)}),hasChecked||(retval=!1)}else""===$(el).val()&&(retval=!1);return retval},isValidType=function(type,el){var retval=!0;return"undefined"!=typeof _this.options&&"undefined"!=typeof _this.options.rules&&"undefined"!=typeof _this.options.rules[type]?(retval=evaluateRule(_this.options.rules[type].rule,$(el).val()),_this.options.rules[type].msg=_this.options.rules[type].msg||"Invalid field."):"undefined"!=typeof rules[type]?retval=evaluateRule(rules[type].rule,$(el).val()):"dev"===_this.options.mode&&console.warn("Unsupported rule type: ",type),retval},evaluateRule=function(rule,val){return"function"==typeof rule?rule.call(_this,val):new RegExp(rule).test(val)}}(jQuery);