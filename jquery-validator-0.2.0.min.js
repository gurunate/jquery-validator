/**
 * jquery-validator - A jQuery form validation plugin.
 * 
 * @version 0.2.0
 * @author Nate Johnson
 * @license MIT
 */

!function($){"use strict";var _this,types={phone:{msg:"Phone number is invalid.",pattern:"^(([0-9]{1})*[- .(]*([0-9]{3})[- .)]*[0-9]{3}[- .]*[0-9]{4})+$"},email:{msg:"Email address is invalid.",pattern:"^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,4}$"},url:{msg:"URL is invalid.",pattern:"(http|ftp|https)://[w-]+(.[w-]+)+([w.,@?^=%&amp;:/~+#-]*[w@?^=%&amp;/~+#-])?"},zip:{msg:"Zip code is invalid.",pattern:"^[0-9]{5}(?:-[0-9]{4})?$"},password:{msg:"Password is invalid.",pattern:"(?=^.{6,}$)((?=.*[A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z]))^.*"},digits:{msg:"Digits are invalid.",pattern:"^[0-9]+$"},ssn:{msg:"Social Security Number is invalid.",pattern:"/^([0-9]{3}[-]*[0-9]{2}[-]*[0-9]{4})*$/"}};$.fn.extend({validator:function(options){if(_this=this,_this.hasValidated=_this.hasValidated||!1,"object"==typeof options||"undefined"==typeof options){var defaults={mode:"prod",submit:!0,before:null,after:null,success:null,error:null};return _this.options=$.extend(defaults,options),$(this).data("validator",this.options),this.each(function(){$(this).on("submit",function(ev){_this.options.submit||ev.preventDefault(),_this.validate($(this))})})}switch(options){case"validate":return _this.validate(this);case"errors":return _this.getErrors(this)}},isValid:function(){return"undefined"==typeof this.errors&&this.validate($(this)),_this.errors.length<=0},getErrors:function(){return _this.hasValidated||("dev"===_this.options.mode&&console.warn("Errors method referenced before any validation.  Validation invoked for accuracy."),_this.validate(this)),_this.errors},validate:function(element){return"undefined"!=typeof _this.options&&"undefined"!=typeof _this.options.before&&"function"==typeof _this.options.before&&_this.options.before.call(_this),_this.hasValidated=!0,_this.errors=[],_this.warnings=[],_this.options=_this.options||element.data("validator"),_this.options||_this.warnings.push("No validator options."),element.find("[data-validator]").each(function(i,el){var rules=$(el).attr("data-validator").split(" ");el.isRequired=!1,rules.indexOf("required")>=0&&(el.isRequired=!0,isValidValue(el)||_this.errors.push({msg:"Required field",el:el})),$.each(rules,function(i,r){if("required"!==r){var textRange=/text\[([0-9]+),([0-9]+)\]/;if(textRange.test(r)){var m=textRange.exec(r),val=$(el).val();(val.length<m[1]||val.length>m[2])&&_this.errors.push({msg:"".concat("Invalid text range: ",val.length<m[1]?"too short [min. "+m[1]+"].":"too long. [max. "+m[2]+"]"),el:el})}else(el.isRequired&&!isValidType(r,el)||isValidValue(el)&&!isValidType(r,el))&&_this.errors.push({msg:types[r].msg,el:el})}})}),"undefined"!=typeof _this.options&&(_this.errors.length&&"undefined"!=typeof _this.options.error&&"function"==typeof _this.options.error?_this.options.error.call(_this,_this.errors):"undefined"!=typeof _this.options.success&&"function"==typeof _this.options.success&&_this.options.success.call(_this)),this}});var isValidValue=function(el){var retval=!0;if("checkbox"===$(el).attr("type")||"radio"===$(el).attr("type")){var hasChecked=!1;$(_this).find("[name="+$(el).attr("name")+"]").each(function(i,el){!hasChecked&&$(el).is(":checked")&&(hasChecked=!0)}),hasChecked||(retval=!1)}else""===$(el).val()&&(retval=!1);return retval},isValidType=function(type,el){var pattern=new RegExp(types[type].pattern);return pattern.test($(el).val())}}(jQuery);